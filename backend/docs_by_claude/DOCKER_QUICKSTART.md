# ğŸ³ ä¸€éµå•Ÿå‹• Docker æŒ‡å—

## âœ¨ æœ€ç°¡å–®çš„å•Ÿå‹•æ–¹å¼

### Windows ç”¨æˆ¶

1. **ç¢ºä¿ Docker Desktop å·²å®‰è£ä¸¦é‹è¡Œ**
   - ä¸‹è¼‰ï¼šhttps://www.docker.com/products/docker-desktop
   - å•Ÿå‹• Docker Desktopï¼ˆæª¢æŸ¥ç³»çµ±æ‰˜ç›¤æœ‰ Docker åœ–ç¤ºï¼‰

2. **åŸ·è¡Œå•Ÿå‹•è…³æœ¬**
   
   åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„æŒ‰å³éµ â†’ "åœ¨çµ‚ç«¯æ©Ÿä¸­é–‹å•Ÿ" â†’ åŸ·è¡Œï¼š

   ```powershell
   .\start-docker.ps1
   ```

3. **ç­‰å¾…å•Ÿå‹•å®Œæˆ**
   
   è…³æœ¬æœƒè‡ªå‹•ï¼š
   - âœ… æª¢æŸ¥ Docker ç’°å¢ƒ
   - âœ… å»ºç«‹ Docker å®¹å™¨
   - âœ… å•Ÿå‹•å¾Œç«¯æœå‹™
   - âœ… å•Ÿå‹• Cloudflare Tunnel
   - âœ… é¡¯ç¤º Tunnel URL
   - âœ… è‡ªå‹•è¤‡è£½ URL åˆ°å‰ªè²¼ç°¿

4. **æ›´æ–°å‰ç«¯é…ç½®**

   è…³æœ¬æœƒé¡¯ç¤ºé¡ä¼¼é€™æ¨£çš„ URLï¼š
   ```
   ğŸ“¡ Cloudflare Tunnel URL:
      https://xxxxx-xxx-xxx.trycloudflare.com
   ```

   æ‰“é–‹ `frontend/script.js`ï¼Œå°‡ç¬¬ 22 è¡Œæ”¹ç‚ºï¼š
   ```javascript
   const API_BASE_URL = "https://xxxxx-xxx-xxx.trycloudflare.com";
   ```

5. **é–‹å§‹ä½¿ç”¨**
   
   åœ¨ç€è¦½å™¨ä¸­æ‰“é–‹ `frontend/index.html`

## ğŸ›‘ åœæ­¢æœå‹™

```powershell
.\stop-docker.ps1
```

## ğŸ“Š æŸ¥çœ‹æœå‹™ç‹€æ…‹

### æŸ¥çœ‹å³æ™‚æ—¥èªŒ
```powershell
cd backend
docker-compose logs -f
```

### æŸ¥çœ‹ Cloudflare URL
```powershell
docker logs heart-monitor-backend | Select-String trycloudflare
```

### æª¢æŸ¥å®¹å™¨ç‹€æ…‹
```powershell
docker ps
```

## ğŸ”„ é‡æ–°å•Ÿå‹•

```powershell
# åœæ­¢
.\stop-docker.ps1

# å•Ÿå‹•
.\start-docker.ps1
```

æˆ–ç›´æ¥åœ¨ backend ç›®éŒ„åŸ·è¡Œï¼š
```powershell
cd backend
docker-compose restart
```

## â“ å¸¸è¦‹å•é¡Œ

### 1. è…³æœ¬ç„¡æ³•åŸ·è¡Œ

**éŒ¯èª¤**: "ç„¡æ³•è¼‰å…¥æª”æ¡ˆï¼Œå› ç‚ºé€™å€‹ç³»çµ±ä¸Šå·²åœç”¨æŒ‡ä»¤ç¢¼åŸ·è¡Œ"

**è§£æ±º**:
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### 2. Docker æœªå•Ÿå‹•

**éŒ¯èª¤**: "Docker æœå‹™æœªé‹è¡Œ"

**è§£æ±º**: å•Ÿå‹• Docker Desktop æ‡‰ç”¨ç¨‹å¼

### 3. ç«¯å£è¢«å ç”¨

**éŒ¯èª¤**: "port is already allocated"

**è§£æ±º**:
```powershell
# æŸ¥çœ‹å ç”¨ç«¯å£çš„ç¨‹å¼
netstat -ano | findstr :5001

# çµ‚æ­¢ç¨‹å¼
taskkill /PID <PID> /F
```

### 4. æ‰¾ä¸åˆ° Cloudflare URL

**è§£æ±º**: ç­‰å¾…æ›´é•·æ™‚é–“ï¼Œæˆ–æ‰‹å‹•æŸ¥çœ‹ï¼š
```powershell
docker logs heart-monitor-backend
```

## ğŸ“– è©³ç´°æ–‡æª”

- **å®Œæ•´éƒ¨ç½²æŒ‡å—**: `DOCKER_GUIDE.md`
- **Docker å¿«é€Ÿåƒè€ƒ**: `backend/README_DOCKER.md`
- **åŠŸèƒ½èªªæ˜**: `NEW_FEATURES.md`
- **API æ–‡æª”**: `NEW_FEATURES.md`

## ğŸ¯ å®Œæ•´æµç¨‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŸ·è¡Œè…³æœ¬       â”‚
â”‚  start-docker   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æª¢æŸ¥ç’°å¢ƒ       â”‚
â”‚  Docker/Compose â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å»ºç«‹å®¹å™¨       â”‚
â”‚  (è‡ªå‹•)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å•Ÿå‹•æœå‹™       â”‚
â”‚  Backend+Tunnel â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¡¯ç¤º URL       â”‚
â”‚  (è‡ªå‹•è¤‡è£½)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ›´æ–°å‰ç«¯       â”‚
â”‚  API_BASE_URL   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é–‹å§‹ä½¿ç”¨ï¼     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ‰ å°±æ˜¯é€™éº¼ç°¡å–®ï¼

ä¸éœ€è¦æ‰‹å‹•å®‰è£ Pythonã€Flaskã€Cloudflaredï¼Œ
åªéœ€è¦ Docker å’Œä¸€å€‹å‘½ä»¤ï¼Œå°±èƒ½å•Ÿå‹•æ•´å€‹å¾Œç«¯ç³»çµ±ï¼

---

**éœ€è¦å¹«åŠ©ï¼Ÿ** æŸ¥çœ‹ `DOCKER_GUIDE.md` æˆ–åŸ·è¡Œ `.\start-docker.ps1` ç²å–è©³ç´°è³‡è¨Šã€‚
